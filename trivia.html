<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Daily Trivia Quiz</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        background: linear-gradient(
          135deg,
          #fefefe 0%,
          #f8f9fa 50%,
          #f1f3f4 100%
        );
        min-height: 100vh;
        padding: 40px 20px;
        color: #4a5568;
        line-height: 1.6;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 24px;
        padding: 40px;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.03),
          0 10px 20px rgba(0, 0, 0, 0.02);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.8);
        position: relative;
      }

      .hub-button {
        position: absolute;
        top: 20px;
        left: 20px;
        z-index: 10;
      }

      .hub-link {
        display: inline-flex;
        align-items: center;
        padding: 10px 16px;
        background: rgba(209, 163, 164, 0.1);
        color: #8b7070;
        text-decoration: none;
        border-radius: 12px;
        font-size: 14px;
        font-weight: 500;
        border: 1px solid rgba(209, 163, 164, 0.2);
        transition: all 0.3s ease;
        letter-spacing: 0.025em;
      }

      .hub-link:hover {
        background: rgba(209, 163, 164, 0.15);
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(209, 163, 164, 0.15);
        color: #6b5555;
      }

      h1 {
        text-align: center;
        color: #2d3748;
        margin-bottom: 40px;
        font-size: 2.75rem;
        font-weight: 700;
        letter-spacing: -0.025em;
        background: linear-gradient(135deg, #d1a3a4 0%, #b08a8b 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .tabs {
        display: flex;
        background: #faf9f9;
        border-radius: 16px;
        padding: 6px;
        margin-bottom: 40px;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.03);
        border: 1px solid rgba(209, 163, 164, 0.2);
      }

      .tab-button {
        flex: 1;
        padding: 16px 24px;
        border: none;
        background: transparent;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        color: #9ca3af;
        letter-spacing: 0.025em;
      }

      .tab-button.active {
        background: linear-gradient(135deg, #d1a3a4 0%, #b08a8b 100%);
        color: white;
        box-shadow: 0 8px 25px rgba(209, 163, 164, 0.15);
        transform: translateY(-1px);
      }

      .tab-button:not(.active):hover {
        background: rgba(209, 163, 164, 0.08);
        color: #8b7070;
        transform: translateY(-1px);
      }

      .star-wars-tab.active {
        background: linear-gradient(135deg, #c49496 0%, #a67c7e 100%);
        color: white;
        box-shadow: 0 8px 25px rgba(196, 148, 150, 0.15);
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      .loading {
        text-align: center;
        padding: 60px 40px;
        font-size: 18px;
        color: #6b7280;
        font-weight: 400;
      }

      .daily-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
      }

      .stat-card {
        background: white;
        border-radius: 16px;
        padding: 24px 20px;
        text-align: center;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.01),
          0 10px 15px rgba(0, 0, 0, 0.02);
        border: 1px solid rgba(209, 163, 164, 0.15);
        transition: all 0.3s ease;
      }

      .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(209, 163, 164, 0.08);
      }

      .stat-number {
        font-size: 2.25rem;
        font-weight: 700;
        color: #d1a3a4;
        display: block;
        letter-spacing: -0.025em;
      }

      .star-wars-stats .stat-number {
        color: #c49496;
      }

      .stat-label {
        font-size: 13px;
        color: #9ca3af;
        text-transform: uppercase;
        font-weight: 500;
        margin-top: 8px;
        letter-spacing: 0.05em;
      }

      .time-until-reset {
        background: linear-gradient(135deg, #d1a3a4 0%, #b08a8b 100%);
        color: white;
        border-radius: 16px;
        padding: 18px 24px;
        text-align: center;
        margin-bottom: 24px;
        font-weight: 500;
        font-size: 15px;
        letter-spacing: 0.025em;
      }

      .high-score-achievement {
        background: linear-gradient(135deg, #faf9f9 0%, #f5f3f3 100%);
        color: #8b7070;
        border-radius: 16px;
        padding: 18px 24px;
        text-align: center;
        margin-bottom: 24px;
        font-weight: 600;
        animation: celebration 0.6s ease-out;
        box-shadow: 0 8px 25px rgba(209, 163, 164, 0.1);
        border: 1px solid rgba(209, 163, 164, 0.2);
      }

      @keyframes celebration {
        0% {
          transform: scale(0.95) translateY(10px);
          opacity: 0;
        }
        50% {
          transform: scale(1.02) translateY(-2px);
        }
        100% {
          transform: scale(1) translateY(0);
          opacity: 1;
        }
      }

      .question-card {
        background: white;
        border-radius: 20px;
        padding: 36px;
        margin-bottom: 24px;
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.01),
          0 4px 6px rgba(0, 0, 0, 0.02);
        border-left: 5px solid #d1a3a4;
        border: 1px solid rgba(209, 163, 164, 0.15);
      }

      .star-wars-question .question-card {
        border-left: 5px solid #c49496;
        background: linear-gradient(
          135deg,
          #fefefe 0%,
          rgba(250, 249, 249, 0.5) 100%
        );
      }

      .question-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
        flex-wrap: wrap;
        gap: 12px;
      }

      .category-badge {
        background: linear-gradient(135deg, #d1a3a4 0%, #b08a8b 100%);
        color: white;
        padding: 10px 18px;
        border-radius: 24px;
        font-weight: 500;
        font-size: 14px;
        letter-spacing: 0.025em;
      }

      .star-wars-badge {
        background: linear-gradient(135deg, #c49496 0%, #a67c7e 100%);
        color: white;
      }

      .difficulty-badge {
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .difficulty-easy {
        background: #d1fae5;
        color: #065f46;
      }
      .difficulty-medium {
        background: #fef3c7;
        color: #92400e;
      }
      .difficulty-hard {
        background: #f5f3f3;
        color: #8b7070;
      }

      .question-text {
        font-size: 22px;
        font-weight: 500;
        margin-bottom: 28px;
        line-height: 1.6;
        color: #1f2937;
        letter-spacing: -0.025em;
      }

      .answers-grid {
        display: grid;
        gap: 14px;
      }

      .answer-btn {
        padding: 18px 24px;
        border: 2px solid rgba(209, 163, 164, 0.25);
        border-radius: 12px;
        background: rgba(250, 249, 249, 0.5);
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        text-align: left;
        color: #4a5568;
        font-weight: 400;
        letter-spacing: 0.025em;
      }

      .answer-btn:hover {
        border-color: #d1a3a4;
        background: rgba(209, 163, 164, 0.08);
        transform: translateX(8px);
        box-shadow: 0 4px 12px rgba(209, 163, 164, 0.15);
      }

      .star-wars-question .answer-btn:hover {
        border-color: #c49496;
        background: rgba(196, 148, 150, 0.08);
      }

      .answer-btn.correct {
        background: #d1fae5;
        border-color: #10b981;
        color: #065f46;
        transform: translateX(8px);
      }

      .answer-btn.incorrect {
        background: #fee2e2;
        border-color: #ef4444;
        color: #991b1b;
      }

      .answer-btn:disabled {
        cursor: not-allowed;
        opacity: 0.8;
      }

      .controls {
        display: flex;
        justify-content: center;
        gap: 16px;
        margin-top: 36px;
      }

      .btn {
        padding: 14px 28px;
        border: none;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        letter-spacing: 0.025em;
      }

      .btn-primary {
        background: linear-gradient(135deg, #d1a3a4 0%, #b08a8b 100%);
        color: white;
        box-shadow: 0 4px 12px rgba(209, 163, 164, 0.25);
      }

      .btn-star-wars {
        background: linear-gradient(135deg, #c49496 0%, #a67c7e 100%);
        color: white;
        box-shadow: 0 4px 12px rgba(196, 148, 150, 0.25);
      }

      .btn-secondary {
        background: rgba(209, 163, 164, 0.15);
        color: #8b7070;
        border: 1px solid rgba(209, 163, 164, 0.25);
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(209, 163, 164, 0.25);
      }

      .btn-secondary:hover {
        background: rgba(209, 163, 164, 0.2);
        box-shadow: 0 4px 12px rgba(209, 163, 164, 0.15);
      }

      .error {
        background: #fee2e2;
        color: #991b1b;
        padding: 18px 24px;
        border-radius: 12px;
        margin-bottom: 24px;
        text-align: center;
        border: 1px solid #fecaca;
      }

      .result-feedback {
        text-align: center;
        padding: 24px;
        border-radius: 16px;
        margin: 24px 0;
        font-size: 18px;
        font-weight: 500;
        letter-spacing: 0.025em;
      }

      .result-correct {
        background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
        color: #065f46;
        border: 1px solid #a7f3d0;
      }

      .result-incorrect {
        background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
        color: #991b1b;
        border: 1px solid #fecaca;
      }

      @media (max-width: 600px) {
        .container {
          padding: 24px;
          margin: 10px;
        }

        h1 {
          font-size: 2.25rem;
        }

        .daily-stats {
          grid-template-columns: repeat(2, 1fr);
          gap: 16px;
        }

        .tabs {
          flex-direction: column;
          gap: 6px;
        }

        .question-card {
          padding: 24px;
        }

        .question-text {
          font-size: 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="hub-button">
        <a href="index.html" class="hub-link">‚Üê Hub</a>
      </div>

      <h1>Daily Trivia Quiz</h1>

      <div class="tabs">
        <button class="tab-button active" onclick="quiz.switchTab('general')">
          General Trivia
        </button>
        <button
          class="tab-button star-wars-tab"
          onclick="quiz.switchTab('starwars')"
        >
          Star Wars
        </button>
      </div>

      <div class="time-until-reset" id="reset-timer">
        Score resets in: --:--:--
      </div>

      <!-- General Trivia Tab -->
      <div id="general-tab" class="tab-content active">
        <div class="daily-stats">
          <div class="stat-card">
            <span class="stat-number" id="daily-correct">0</span>
            <div class="stat-label">Correct Today</div>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="daily-total">0</span>
            <div class="stat-label">Total Today</div>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="daily-percentage">0%</span>
            <div class="stat-label">Accuracy</div>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="high-score">0</span>
            <div class="stat-label">High Score</div>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="streak">0</span>
            <div class="stat-label">Current Streak</div>
          </div>
        </div>

        <div id="quiz-container">
          <div class="loading">Click "Get Question" to start!</div>
        </div>

        <div class="controls">
          <button id="get-question" class="btn btn-primary">
            Get Question
          </button>
        </div>
      </div>

      <!-- Star Wars Tab -->
      <div id="starwars-tab" class="tab-content">
        <div class="daily-stats star-wars-stats">
          <div class="stat-card">
            <span class="stat-number" id="sw-daily-correct">0</span>
            <div class="stat-label">Correct Today</div>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="sw-daily-total">0</span>
            <div class="stat-label">Total Today</div>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="sw-daily-percentage">0%</span>
            <div class="stat-label">Accuracy</div>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="sw-high-score">0</span>
            <div class="stat-label">High Score</div>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="sw-streak">0</span>
            <div class="stat-label">Current Streak</div>
          </div>
        </div>

        <div id="sw-quiz-container">
          <div class="loading">
            May the Force be with you! Loading Star Wars question...
          </div>
        </div>

        <div class="controls">
          <button id="get-sw-question" class="btn btn-star-wars">
            Get Star Wars Question
          </button>
        </div>
      </div>
    </div>

    <script>
      class DailyTriviaQuiz {
        constructor() {
          this.answered = false;
          this.currentQuestion = null;
          this.currentAnswers = null;
          this.currentStreak = 0;
          this.swCurrentStreak = 0;
          this.activeTab = "general";

          this.initEventListeners();
          this.loadDailyStats();
          this.startResetTimer();
          this.checkForMidnightReset();
        }

        initEventListeners() {
          document
            .getElementById("get-question")
            .addEventListener("click", () => {
              this.loadQuestion();
            });

          document
            .getElementById("get-sw-question")
            .addEventListener("click", () => {
              this.loadStarWarsQuestion();
            });
        }

        switchTab(tabName) {
          this.activeTab = tabName;

          document
            .querySelectorAll(".tab-button")
            .forEach((btn) => btn.classList.remove("active"));
          document
            .querySelectorAll(".tab-content")
            .forEach((content) => content.classList.remove("active"));

          if (tabName === "general") {
            document
              .querySelector(".tab-button:first-child")
              .classList.add("active");
            document.getElementById("general-tab").classList.add("active");
          } else {
            document
              .querySelector(".tab-button.star-wars-tab")
              .classList.add("active");
            document.getElementById("starwars-tab").classList.add("active");
          }
        }

        async loadQuestion() {
          try {
            document.getElementById("quiz-container").innerHTML =
              '<div class="loading">Loading question...</div>';
            document.getElementById("get-question").style.display = "none";

            const response = await fetch(
              `https://opentdb.com/api.php?amount=1&type=multiple`
            );
            const data = await response.json();

            if (data.response_code !== 0) {
              throw new Error("Failed to fetch question");
            }

            const questionData = data.results[0];
            this.currentQuestion = {
              question: this.decodeHtml(questionData.question),
              correct_answer: this.decodeHtml(questionData.correct_answer),
              incorrect_answers: questionData.incorrect_answers.map((a) =>
                this.decodeHtml(a)
              ),
              difficulty: questionData.difficulty,
              category: this.decodeHtml(questionData.category),
              type: "general",
            };

            this.displayQuestion("quiz-container");
          } catch (error) {
            document.getElementById("quiz-container").innerHTML =
              '<div class="error">Failed to load question. Please try again!</div>';
            document.getElementById("get-question").style.display =
              "inline-block";
            console.error("Error loading question:", error);
          }
        }

        async loadStarWarsQuestion() {
          try {
            document.getElementById("sw-quiz-container").innerHTML =
              '<div class="loading">Loading Star Wars question...</div>';
            document.getElementById("get-sw-question").style.display = "none";

            const response = await fetch(
              `https://the-trivia-api.com/api/questions?categories=film_and_tv&tags=star_wars&limit=1`
            );

            if (!response.ok) {
              throw new Error("Failed to fetch Star Wars question");
            }

            const data = await response.json();

            if (!data || data.length === 0) {
              throw new Error("No Star Wars questions available");
            }

            const questionData = data[0];
            this.currentQuestion = {
              question: questionData.question,
              correct_answer: questionData.correctAnswer,
              incorrect_answers: questionData.incorrectAnswers,
              difficulty: questionData.difficulty,
              category: questionData.category,
              type: "starwars",
            };

            this.displayQuestion("sw-quiz-container");
          } catch (error) {
            document.getElementById("sw-quiz-container").innerHTML =
              '<div class="error">Failed to load Star Wars question. Please try again!</div>';
            document.getElementById("get-sw-question").style.display =
              "inline-block";
            console.error("Error loading Star Wars question:", error);
          }
        }

        decodeHtml(html) {
          const txt = document.createElement("textarea");
          txt.innerHTML = html;
          return txt.value;
        }

        displayQuestion(containerId) {
          const question = this.currentQuestion;
          const answers = [
            ...question.incorrect_answers,
            question.correct_answer,
          ].sort(() => Math.random() - 0.5);

          const isStarWars = question.type === "starwars";
          const questionClass = isStarWars ? "star-wars-question" : "";
          const badgeClass = isStarWars ? "star-wars-badge" : "";

          const html = `
                    <div class="${questionClass}">
                        <div class="question-card">
                            <div class="question-header">
                                <div class="category-badge ${badgeClass}">
                                    ${
                                      isStarWars
                                        ? "Star Wars"
                                        : question.category
                                    }
                                </div>
                                <div class="difficulty-badge difficulty-${
                                  question.difficulty
                                }">${question.difficulty}</div>
                            </div>
                            <div class="question-text">${
                              question.question
                            }</div>
                            <div class="answers-grid">
                                ${answers
                                  .map(
                                    (answer, index) => `
                                    <button class="answer-btn" data-answer-index="${index}" data-question-type="${question.type}">
                                        ${answer}
                                    </button>
                                `
                                  )
                                  .join("")}
                            </div>
                        </div>
                    </div>
                `;

          document.getElementById(containerId).innerHTML = html;

          this.currentAnswers = answers;

          const answerButtons = document.querySelectorAll(".answer-btn");
          answerButtons.forEach((button) => {
            button.addEventListener("click", (e) => {
              const answerIndex = parseInt(e.target.dataset.answerIndex);
              const questionType = e.target.dataset.questionType;
              const selectedAnswer = this.currentAnswers[answerIndex];
              this.selectAnswer(
                selectedAnswer,
                question.correct_answer,
                questionType
              );
            });
          });

          this.answered = false;
        }

        escapeHtml(text) {
          const div = document.createElement("div");
          div.textContent = text;
          return div.innerHTML.replace(/'/g, "&#39;");
        }

        selectAnswer(selectedAnswer, correctAnswer, questionType) {
          if (this.answered) return;

          this.answered = true;

          const containerId =
            questionType === "starwars"
              ? "sw-quiz-container"
              : "quiz-container";
          const container = document.getElementById(containerId);
          const buttons = container.querySelectorAll(".answer-btn");

          buttons.forEach((btn) => {
            btn.disabled = true;
            const answerIndex = parseInt(btn.dataset.answerIndex);
            const answer = this.currentAnswers[answerIndex];

            if (answer === correctAnswer) {
              btn.classList.add("correct");
            } else if (answer === selectedAnswer && answer !== correctAnswer) {
              btn.classList.add("incorrect");
            }
          });

          const isCorrect = selectedAnswer === correctAnswer;
          this.updateDailyStats(isCorrect, questionType);

          const feedbackHtml = `
                    <div class="result-feedback ${
                      isCorrect ? "result-correct" : "result-incorrect"
                    }">
                        ${
                          isCorrect
                            ? "Correct!"
                            : `Wrong! The answer was: ${correctAnswer}`
                        }
                    </div>
                `;

          container.insertAdjacentHTML("beforeend", feedbackHtml);

          setTimeout(() => {
            if (questionType === "starwars") {
              this.loadStarWarsQuestion();
            } else {
              this.loadQuestion();
            }
          }, 3000);
        }

        updateDailyStats(isCorrect, questionType = "general") {
          const today = new Date().toDateString();
          const isStarWars = questionType === "starwars";

          let stats = this.getDailyStats(isStarWars);
          let highScore = this.getHighScore(isStarWars);

          stats.total++;
          if (isCorrect) {
            stats.correct++;
            if (isStarWars) {
              this.swCurrentStreak++;
            } else {
              this.currentStreak++;
            }
          } else {
            if (isStarWars) {
              this.swCurrentStreak = 0;
            } else {
              this.currentStreak = 0;
            }
          }

          stats.streak = isStarWars ? this.swCurrentStreak : this.currentStreak;
          stats.date = today;

          let newHighScore = false;
          if (stats.correct > highScore) {
            highScore = stats.correct;
            this.saveHighScore(highScore, isStarWars);
            newHighScore = true;
          }

          this.saveDailyStats(stats, isStarWars);
          this.displayStats(stats, highScore, isStarWars);

          if (newHighScore) {
            this.showHighScoreAchievement(highScore, isStarWars);
          }
        }

        getHighScore(isStarWars = false) {
          const key = isStarWars
            ? "starWarsTriviaHighScore"
            : "triviaHighScore";
          return parseInt(localStorage.getItem(key) || "0");
        }

        saveHighScore(score, isStarWars = false) {
          const key = isStarWars
            ? "starWarsTriviaHighScore"
            : "triviaHighScore";
          localStorage.setItem(key, score.toString());
        }

        getDailyStats(isStarWars = false) {
          const today = new Date().toDateString();
          const key = isStarWars
            ? "dailyStarWarsTriviaStats"
            : "dailyTriviaStats";
          const saved = JSON.parse(localStorage.getItem(key) || "{}");

          if (saved.date !== today) {
            return { date: today, correct: 0, total: 0, streak: 0 };
          }

          return saved;
        }

        saveDailyStats(stats, isStarWars = false) {
          const key = isStarWars
            ? "dailyStarWarsTriviaStats"
            : "dailyTriviaStats";
          localStorage.setItem(key, JSON.stringify(stats));
        }

        loadDailyStats() {
          const stats = this.getDailyStats(false);
          const highScore = this.getHighScore(false);
          this.currentStreak = stats.streak || 0;
          this.displayStats(stats, highScore, false);

          const swStats = this.getDailyStats(true);
          const swHighScore = this.getHighScore(true);
          this.swCurrentStreak = swStats.streak || 0;
          this.displayStats(swStats, swHighScore, true);
        }

        displayStats(stats, highScore = null, isStarWars = false) {
          const percentage =
            stats.total > 0
              ? Math.round((stats.correct / stats.total) * 100)
              : 0;
          const currentHighScore =
            highScore !== null ? highScore : this.getHighScore(isStarWars);

          const prefix = isStarWars ? "sw-" : "";

          document.getElementById(prefix + "daily-correct").textContent =
            stats.correct;
          document.getElementById(prefix + "daily-total").textContent =
            stats.total;
          document.getElementById(prefix + "daily-percentage").textContent =
            percentage + "%";
          document.getElementById(prefix + "high-score").textContent =
            currentHighScore;
          document.getElementById(prefix + "streak").textContent =
            stats.streak || 0;
        }

        showHighScoreAchievement(newScore, isStarWars = false) {
          const existingNotification = document.querySelector(
            ".high-score-achievement"
          );
          if (existingNotification) {
            existingNotification.remove();
          }

          const achievement = document.createElement("div");
          achievement.className = "high-score-achievement";
          const category = isStarWars ? "Star Wars" : "General Trivia";
          achievement.innerHTML = `New ${category} High Score: ${newScore} correct answers!`;

          const resetTimer = document.getElementById("reset-timer");
          resetTimer.parentNode.insertBefore(
            achievement,
            resetTimer.nextSibling
          );

          setTimeout(() => {
            if (achievement.parentNode) {
              achievement.remove();
            }
          }, 5000);
        }

        startResetTimer() {
          const updateTimer = () => {
            const now = new Date();
            const tomorrow = new Date(now);
            tomorrow.setDate(tomorrow.getDate() + 1);
            tomorrow.setHours(0, 0, 0, 0);

            const timeLeft = tomorrow.getTime() - now.getTime();

            const hours = Math.floor(timeLeft / (1000 * 60 * 60));
            const minutes = Math.floor(
              (timeLeft % (1000 * 60 * 60)) / (1000 * 60)
            );
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

            document.getElementById(
              "reset-timer"
            ).textContent = `Score resets in: ${hours
              .toString()
              .padStart(2, "0")}:${minutes
              .toString()
              .padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
          };

          updateTimer();
          setInterval(updateTimer, 1000);
        }

        checkForMidnightReset() {
          setInterval(() => {
            const today = new Date().toDateString();

            const saved = JSON.parse(
              localStorage.getItem("dailyTriviaStats") || "{}"
            );

            const swSaved = JSON.parse(
              localStorage.getItem("dailyStarWarsTriviaStats") || "{}"
            );

            if (
              (saved.date && saved.date !== today) ||
              (swSaved.date && swSaved.date !== today)
            ) {
              this.loadDailyStats();
            }
          }, 60000);
        }
      }

      const quiz = new DailyTriviaQuiz();
    </script>
  </body>
</html>
